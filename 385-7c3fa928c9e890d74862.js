"use strict";(self.webpackChunkreform_runway=self.webpackChunkreform_runway||[]).push([[385],{2385:function(e,r,t){t.r(r),t.d(r,{default:function(){return l}});var n=t(7294),o=t(9477),a=t(5301);const i=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function c(e,r){const t=(0,a.z)((e=>e.gl)),c=(0,a.D)(o.TextureLoader,i(e)?Object.values(e):e);if((0,n.useLayoutEffect)((()=>{null==r||r(c)}),[r]),(0,n.useEffect)((()=>{(Array.isArray(c)?c:[c]).forEach(t.initTexture)}),[t,c]),i(e)){const r=Object.keys(e),t={};return r.forEach((e=>Object.assign(t,{[e]:c[r.indexOf(e)]}))),t}return c}c.preload=e=>a.D.preload(o.TextureLoader,e),c.clear=e=>a.D.clear(o.TextureLoader,e);var s=t.p+"static/cloud-4-bb03ef2e52c71c38fc763c64ffcdf1c3.png",u=t(1113),f=t(5893);function l(){return(0,f.jsx)(h,{})}const d=8e3,g=Date.now(),m=new o.Fog(4555956,-100,5e3),p=new o.PlaneGeometry(64,64),v="\nvarying vec2 vUv;\n\nvoid main() {\n\n  vUv = uv;\n  gl_Position = projectionMatrix * viewMatrix * modelMatrix * instanceMatrix * vec4(position, 1.0);\n}\n",x="\nuniform sampler2D map;\n\nuniform vec3 fogColor;\nuniform float fogNear;\nuniform float fogFar;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n  float depth = gl_FragCoord.z / gl_FragCoord.w;\n  float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n  gl_FragColor = texture2D( map, vUv );\n  gl_FragColor.w *= pow( gl_FragCoord.z, 20.0 );\n  gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n";function h(){const e=c(s);!function(){const{camera:e}=(0,a.z)(),r=(0,n.useRef)({x:0,y:0}),t=(0,n.useCallback)((e=>{r.current.x=.05*(e.clientX-window.innerWidth/2),r.current.y=.05*(e.clientY-window.innerHeight/2)}),[]);(0,n.useEffect)((()=>{if((0,u.jU)())return window.addEventListener("mousemove",t),()=>{window.removeEventListener("mousemove",t)}}),[t]),(0,a.A)((()=>{const t=.03*(Date.now()-g)%d;e.position.x+=.01*(r.current.x-e.position.x),e.position.y+=.01*(-r.current.y-e.position.y),e.position.z=-t+d}))}();const r=(0,n.useMemo)((()=>Array(8e3).fill("").map(((e,r)=>({x:1e3*Math.random()-500,y:-Math.random()*Math.random()*200-15,z:r,scale:Math.random()*Math.random()*1.5+.5,rotationZ:Math.random()*Math.PI})))),[]),t=new o.ShaderMaterial({uniforms:{map:{value:e},fogColor:{value:m.color},fogNear:{value:m.near},fogFar:{value:m.far}},vertexShader:v,fragmentShader:x,depthWrite:!1,depthTest:!1,transparent:!0,opacity:.5}),i=(0,n.useRef)(null);return(0,n.useEffect)((()=>{if(!i.current)return;const e=new o.Object3D;r.forEach(((r,t)=>{e.position.set(r.x,r.y,r.z-d),e.scale.set(r.scale,r.scale,r.scale),e.rotation.set(0,0,r.rotationZ),e.updateMatrix(),i.current&&i.current.setMatrixAt(t,e.matrix)})),r.forEach(((t,n)=>{const o=n+r.length;e.position.set(t.x,t.y,t.z),e.scale.set(t.scale,t.scale,t.scale),e.rotation.set(0,0,t.rotationZ),e.updateMatrix(),i.current&&i.current.setMatrixAt(o,e.matrix)})),i.current.instanceMatrix.needsUpdate=!0})),(0,f.jsx)("instancedMesh",{ref:i,args:[p,t,16e3]})}}}]);
//# sourceMappingURL=385-7c3fa928c9e890d74862.js.map